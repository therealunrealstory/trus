{
  "content": "<!-- MODAL: единый бэкдроп и диалог -->\n<div id=\"modalBack\" class=\"modal-backdrop\" aria-modal=\"true\" role=\"dialog\" aria-labelledby=\"modalTitle\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <h2 id=\"modalTitle\"></h2>\n    <div id=\"modalSub\" class=\"muted\"></div>\n    <div id=\"modalBody\"></div>\n    <div class=\"modal-actions\" style=\"margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;\">\n      <button type=\"button\" class=\"btn\" id=\"modalPrimary\" style=\"display:none\">OK</button>\n      <button type=\"button\" class=\"btn\" id=\"modalSecondary\" style=\"display:none\">Secondary</button>\n      <button type=\"button\" class=\"btn\" id=\"modalClose\" style=\"margin-left:auto;\">Закрыть</button>\n    </div>\n  </div>\n</div>\n\n<!-- ВЕСЬ ОСТАЛЬНЫЙ КОНТЕНТ СТРАНИЦЫ ОБОРАЧИВАЕМ, ЧТОБЫ ТУМАННОСТЬ РАБОТАЛА -->\n<div id=\"page-root\">\n\n<section id=\"hero\">\n  <h1 class=\"text-2xl md:text-4xl font-semibold leading-tight\">\n    <img\n      src=\"android-chrome-192x192.png\"\n      alt=\"\"\n      class=\"inline h-[0.95em] w-auto mr-0.5 align-[-0.12em] select-none pointer-events-none\"\n    />\n    The Real Unreal Story — \n    <span class=\"text-indigo-600\" data-i18n=\"hero.titleRest\">support for Adam</span>\n    <span class=\"align-super text-white/80 text-sm\">*</span>\n  </h1>\n\n  <p class=\"mt-4\" data-i18n=\"hero.lead1\">\n    The true story of a surgeon who spent his life saving others and is now fighting for his own life.\n  </p>\n\n  <p class=\"mt-2 text-xs text-gray-300\" data-i18n=\"hero.note\">\n    * “Adam” is a pseudonym of a real person. The name has been changed to protect privacy.\n  </p>\n\n  <div class=\"mt-5 flex flex-wrap items-center gap-3\">\n    <button\n      id=\"shareBtn\"\n      class=\"px-4 py-2 rounded-xl border border-gray-700 bg-gray-900/40 text-white text-sm\"\n      data-i18n=\"btn.share\"\n    >\n      Share\n    </button>\n  </div>\n</section>\n\n<section>\n  <div class=\"grid md:grid-cols-3 gap-4\">\n    <div id=\"tile1\" class=\"tile\" style=\"background-image:url('images/1.png')\">\n      <span data-i18n=\"tiles.me\">I’m Nico</span>\n    </div>\n    <div id=\"tile2\" class=\"tile\" style=\"background-image:url('images/2.png')\">\n      <span data-i18n=\"tiles.about\">About Adam</span>\n    </div>\n    <div id=\"tile3\" class=\"tile\" style=\"background-image:url('images/3.png')\">\n      <span data-i18n=\"tiles.others\">Other people in the story</span>\n    </div>\n  </div>\n</section>\n\n<section>\n  <h2 class=\"text-xl font-semibold mb-4\" data-i18n=\"announce.title\">Our story announcement</h2>\n  <div class=\"rounded-2xl border border-gray-700 p-4 flex items-center gap-3\" style=\"background:rgba(0,0,0,0.35)\">\n    <button\n      id=\"announceBtn\"\n      class=\"px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white text-sm pulse\"\n      data-i18n=\"announce.play\"\n    >\n      ▶︎ Play\n    </button>\n    <div class=\"text-sm text-gray-200\" data-i18n=\"announce.short\">Short audio announcement</div>\n    <div id=\"announceStatus\" class=\"ml-auto text-xs text-gray-300\"></div>\n  </div>\n  <div class=\"mini-player-seek\">\n    <span id=\"announceTimeCur\" class=\"time\">00:00</span>\n    <input id=\"announceSeek\" type=\"range\" value=\"0\" min=\"0\" max=\"0\" step=\"1\" disabled aria-label=\"Seek announcement\" />\n    <span id=\"announceTimeDur\" class=\"time\">--:--</span>\n  </div>\n  <audio id=\"announceAudio\" preload=\"none\"></audio>\n</section>\n\n<section>\n  <h2 class=\"text-xl font-semibold mb-4\" data-i18n=\"video.title\">Video teaser</h2>\n  <div class=\"video-wrap\">\n    <iframe\n      src=\"https://www.youtube.com/embed/9bWXMziCmXk\"\n      title=\"YouTube video\"\n      frameborder=\"0\"\n      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n      allowfullscreen\n    ></iframe>\n  </div>\n</section>\n\n<section>\n  <h2 class=\"text-xl font-semibold mb-4\" data-i18n=\"short.title\">Short version of our story</h2>\n  <div class=\"rounded-2xl border border-gray-700 p-4 flex items-center gap-3\" style=\"background:rgba(0,0,0,0.35)\">\n    <button\n      id=\"shortBtn\"\n      class=\"px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white text-sm pulse\"\n      data-i18n=\"short.play\"\n    >\n      ▶︎ Play\n    </button>\n    <div class=\"text-sm text-gray-200\" data-i18n=\"short.note\">About the events from early 2019 to mid-2025.</div>\n    <div id=\"shortStatus\" class=\"ml-auto text-xs text-gray-300\"></div>\n  </div>\n  <div class=\"mini-player-seek\">\n    <span id=\"shortTimeCur\" class=\"time\">00:00</span>\n    <input id=\"shortSeek\" type=\"range\" value=\"0\" min=\"0\" max=\"0\" step=\"1\" disabled aria-label=\"Seek short version\" />\n    <span id=\"shortTimeDur\" class=\"time\">--:--</span>\n  </div>\n  <audio id=\"shortAudio\" preload=\"none\"></audio>\n</section>\n\n<section>\n  <h2 class=\"text-xl font-semibold mb-4\" data-i18n=\"story.full.title\">Full version of our story</h2>\n  <div class=\"rounded-2xl border border-gray-700 p-4 flex items-center gap-3\" style=\"background:rgba(0,0,0,0.35)\">\n    <button\n      id=\"fullBtn\"\n      class=\"px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white text-sm pulse\"\n      data-i18n=\"full.play\"\n    >\n      ▶︎ Play\n    </button>\n    <div class=\"text-sm text-gray-200\" data-i18n=\"full.note\">Complete narrated story</div>\n    <div id=\"fullStatus\" class=\"ml-auto text-xs text-gray-300\"></div>\n  </div>\n  <div class=\"mini-player-seek\">\n    <span id=\"fullTimeCur\" class=\"time\">00:00</span>\n    <input id=\"fullSeek\" type=\"range\" value=\"0\" min=\"0\" max=\"0\" step=\"1\" disabled aria-label=\"Seek full version\" />\n    <span id=\"fullTimeDur\" class=\"time\">--:--</span>\n  </div>\n  <audio id=\"fullAudio\" preload=\"none\" crossorigin=\"anonymous\"></audio>\n</section>\n\n</div><!-- /#page-root -->\n\n<!-- MODAL: единый контроллер для всех модалок сайта -->\n<script>\n(function(){\n  const back = document.getElementById('modalBack');\n  const dlg  = back.querySelector('.modal-dialog');\n  const elTitle = document.getElementById('modalTitle');\n  const elSub   = document.getElementById('modalSub');\n  const elBody  = document.getElementById('modalBody');\n  const btnPri  = document.getElementById('modalPrimary');\n  const btnSec  = document.getElementById('modalSecondary');\n  const btnClose= document.getElementById('modalClose');\n\n  let lastFocus = null;\n\n  function openModal({title='', sub='', html='', primary=null, secondary=null} = {}){\n    elTitle.textContent = title;\n    elSub.textContent   = sub;\n    elBody.innerHTML    = html;\n\n    if(primary){ btnPri.style.display=''; btnPri.textContent = primary.text; btnPri.onclick = primary.onClick || null; }\n    else btnPri.style.display='none';\n    if(secondary){ btnSec.style.display=''; btnSec.textContent = secondary.text; btnSec.onclick = secondary.onClick || null; }\n    else btnSec.style.display='none';\n\n    lastFocus = document.activeElement;\n    back.classList.add('show');\n    document.body.classList.add('modal-open');\n    dlg.setAttribute('tabindex','-1'); dlg.focus();\n  }\n\n  function closeModal(){\n    back.classList.remove('show');\n    document.body.classList.remove('modal-open');\n    if(lastFocus && typeof lastFocus.focus === 'function') lastFocus.focus();\n  }\n\n  // Экспорт в глобал: TRUS.modal.open/close\n  window.TRUS = window.TRUS || {}; window.TRUS.modal = { open: openModal, close: closeModal };\n\n  // Закрыть по клику вне диалога и Esc\n  back.addEventListener('click', e => { if(e.target === back) closeModal(); });\n  document.addEventListener('keydown', e => { if(e.key === 'Escape' && back.classList.contains('show')) closeModal(); });\n  btnClose.addEventListener('click', closeModal);\n\n  // Пример: привязка к «трём карточкам‑кнопкам» (можно адаптировать контент)\n  [1,2,3].forEach(n => {\n    const tile = document.getElementById('tile'+n);\n    if(!tile) return;\n    tile.addEventListener('click', () => {\n      TRUS.modal.open({\n        title: tile.querySelector('span')?.textContent || 'Details',\n        html: `<div style=\\\"max-width:100%\\\">`+\n              `<div class=\\\"rounded-2xl border border-gray-700 p-3\\\" style=\\\"background:rgba(0,0,0,0.35)\\\">`+\n              `<div class=\\\"text-sm text-gray-200\\\">Image preview</div>`+\n              `</div>`+\n              `</div>`\n      });\n    });\n  });\n})();\n</script>\n"
}
